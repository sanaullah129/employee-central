// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("MONGO_URL")
}

model UserDetails {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  username    String    @unique
  password    String
  companyName String
  firstName   String
  lastName    String
  emailId     String    @unique
  phoneNumber Int
  createdAt   DateTime  @default(now())
  isAdmin     Boolean
  profiles    Profile[]
}

// Employee Profile Info
model Profile {
  id                    String      @id @default(auto()) @map("_id") @db.ObjectId
  employeeId            Int         @unique
  name                  String
  companyEmail          String
  contact               BigInt
  location              String
  bloodGroup            String?
  dateOfBirth           String
  nationality           String?
  maritialStatus        String?
  marriageDate          String?
  spouse                String?
  placeOfBirth          String?
  residentialStatus     String?
  fatherName            String
  religion              String?
  physicallyChallenged  String
  internationalEmployee Boolean
  userDetailsId         String      @db.ObjectId
  userDetails           UserDetails @relation(fields: [userDetailsId], references: [id])
  addresses             Address[]
}

model Address {
  id         String  @id @default(auto()) @map("_id") @db.ObjectId
  address    String
  adressType String
  profileId  String  @db.ObjectId
  profile    Profile @relation(fields: [profileId], references: [id])
}
